{% extends "choisir.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/choisir.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/list_mat.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/sidebar.css') }}">
<style>
#mat{
  color: red;
      
}

.title-text {
  position: fixed;
  color: #fff;
  left: 6%;
  font-size: 24px;
  font-weight: bold;
  text-decoration: none
  ;
}


      #button:enabled:hover {
  background-color:rgb(139, 196, 46); 
  color: #fff;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
  transform: translateY(-2px);
  cursor: pointer;
}
#button:disabled{
  opacity: 0.2;
  cursor:auto;

}

.popup {
  display: none;
  position: fixed;
  z-index: 1;
  padding-top: 100px;
  left: 15%;
  top: 30%;
  width: 80%;
  height: 70%;
  overflow: auto;
  
}

.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border-radius: 15px;
  width: 40%;
  text-align: center;
}

#confirm-btn, #cancel-btn {
  background-color: #4CAF50;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  margin: 10px;
  cursor: pointer;
  font-size: 16px;
}

#confirm-btn:hover, #cancel-btn:hover {
  opacity: 0.8;
}

#confirm-btn {
  background-color: #4CAF50;
}

#cancel-btn {
  background-color: #f44336;
}



</style>


{% endblock %}

{% block log %}
<li><img src= "{{ url_for('static', filename='image/accueil.png') }}" style="height: 30px;width: 30px;position: fixed;margin-left: -40px;margin-top: -10px;"><a href="/accueil" id="ac" class="side" >ACCUEIL</a></li>
<li id="materiaux"  ><img src= "{{ url_for('static', filename='image/liste.png') }}" style="height: 30px;width: 30px;position: fixed;margin-left: -40px;margin-top: -10px;"><a  href="/result" id="mat" class="side" > MATERIEAUX</a></li>
<li id="mescommandes" ><img src= "{{ url_for('static', filename='image/verifier.png') }}" style="height: 30px;width: 30px;position: fixed;margin-left: -40px;margin-top: -10px;"><a href="/mescommandes" id="com"  class="side">MES COMMANDES</a></li>
<li id="visualiser" ><img src= "{{ url_for('static', filename='image/visuel.png') }}" style="height: 30px;width: 30px;position: fixed;margin-left: -40px;margin-top: -10px;"><a href="/visualiser" id="vis"  class="side">VISUALISER</a></li>
<hr style="margin-top: 15px;border:0.5px  solid gray;margin-bottom: 5px;" >
<li id="logout" ><img src= "{{ url_for('static', filename='image/se-deconnecter.png') }}" style="height: 30px;width: 30px;position: fixed;margin-left: -40px;margin-top: -10px;"><a  href="/login" class="side"  >LOG OUT</a></li>
{% endblock %}
{% block content %}

{% block title %}
<div class="titleov">
  <h1 class="title-text" style="margin-left: -5%;" ><a class="tit" href="/accueil" style="color:white;text-decoration: none;">D-I-Y PERGOLA</a></h1>
  </div> 
  
    {% endblock %}

  <form method="post" action="{{ url_for('execute_script') }}" id="myForm">

<table id="table" style=" height: 700px; margin-top: 100px;margin-left: 30%;">
  <caption style="text-align: center; font-size: 20px; font-weight: bolder; margin-bottom: 5%;">Voici la liste du materiel</caption>
    <tr class="tr" >
      <th style="text-align: center;">Nom</th>
      <th style="text-align: center;">Nombre</th>
    </tr>
    <tr class="tr">
      <td style="text-align: center;font-weight: bold;font-size:20px;"> Joint de fixation 
        <div style="padding: 10px;" class="tooltip">
            <img src="static\image\joint_fix.jpg" width="200" height="200">
          </div>
      </td>
      <td style="text-align: center;font-weight: bold;font-size:20px;">{{ fix }} unites</td>
    </tr>
    <tr class="tr">
      <td style="text-align: center;font-weight: bold;font-size:20px;"> Joint a 3 entree
        <div style="padding: 10px;" class="tooltip">
            <img src="static\image\2 entres.jpg" width="200" height="200">
          </div>
      </td>
      <td style="text-align: center;font-weight: bold;font-size:20px;">{{ _3entr }} unites</td>
    </tr>
    <tr class="tr">
      <td style="text-align: center;font-weight: bold;font-size:20px;">Joint a 4 entree
        <div style="padding: 10px;" class="tooltip">
            <img src="static\image\3 entres.jpg" width="200" height="200">
        </div>
      </td>
      <td style="text-align: center;font-weight: bold;font-size:20px;">{{ _4entr }} unites</td>
    </tr>
    <tr class="tr">
      <td style="text-align: center;font-weight: bold;font-size:20px;">Joint a 5 entree
        <div style="padding: 10px;"  class="tooltip">
            <img src="static\image\4 entres.jpg" width="200" height="200">
        </div>
      </td>
      <td style="text-align: center;font-weight: bold;font-size:20px;">{{ _5entr }} unites</td>
    </tr>
    <tr class="tr">
    <td style="text-align: center;font-weight: bold;font-size:20px;">Poteaux de support
      <div style="padding: 10px;"  class="tooltip">
          <img src="static\image\bois_supp.jpg" width="200" height="200">
      </div>
    </td>
    <td style="text-align: center;font-weight: bold;font-size:20px;">{{ supp }} unites</td>
  </tr> 
  <tr class="tr">
  <td style="text-align: center;font-weight: bold;font-size:20px;">Poteaux pour le toit
    <div style="padding: 10px;"  class="tooltip">
        <img src="static\image\bois_t.jpg" width="200" height="200">
    </div>
  </td>
  <td style="text-align: center;font-weight: bold;font-size:20px;">{{ bois }} unites</td>
</tr>
<tr class="tr">
<td style="text-align: center;font-weight: bold;font-size:20px;">Estimation du nombre de vis a bois
  <div style="padding: 10px;"  class="tooltip">
      <img src="static\image\vis.jpg" width="200" height="200">
  </div>
</td>
<td style="text-align: center;font-weight: bold;font-size:20px;">{{ vis }} unites</td>
</tr>
<tr class="tr">
<td style="text-align: center;font-weight: bold;font-size:20px;">Voile (uniquement pour toit fermee)
  <div style="padding: 10px;"  class="tooltip">
      <img src="static\image\toit.jpg" width="200" height="200">
  </div>
</td>
<td style="text-align: center;font-weight: bold;font-size:20px;">{{ toit }} unites</td>
</tr>

<tr class="tr">
  <td style="text-align: center;font-weight: bold;font-size:20px;">Montant

  </td>
  <td style="text-align: center;font-weight: bold;font-size:20px;">{{ montant }} $</td>
  </tr>
  </table>

  <button type="button" id="button" onclick="showPopup()" style="margin-left: 50%;">Commander</button>


<div class="popup" id="popup">
  <div class="modal-content">
    <h2>Le total est de {{montant}} $<br>Voulez-vous confirmer la commande ?</h2>
    <input type="text" id="address" name="address" placeholder="Adresse" required><br><br>
    <input type="tel" id="tel" name="tel" placeholder="Telephone" required><br><br>
    <button id="confirm-btn" onclick="submitForm()">Confirmer</button>
    <button id="cancel-btn" onclick="hidePopup()">Annuler</button>
  </div>
</div>
</form>


  {% block scripts %}
  <script>
   function showPopup() {
  document.getElementById("popup").style.display = "block";
  document.getElementById("table").style.opacity="0.8";
}

function hidePopup() {
  document.getElementById("popup").style.display = "none";
  document.getElementById("table").style.opacity="1";
}
function submitForm() {
  document.getElementById("myForm").submit();
  document.getElementById("popup").style.display = "none";
}

document.addEventListener('click', function(event) {
    // Vérifier si l'événement click a eu lieu en dehors du div que vous voulez cacher
    var myDiv = document.getElementById('fl');
    var x = document.getElementById("myLinks");
    if (event.target !== myDiv && !myDiv.contains(event.target)) {
      // Cacher le div
      x.style.display = 'none';
    }
  });

  </script>
  <script src="{{ url_for('static', filename='js/materiaux.js') }}"></script>
  {% endblock %}
  
  
{% endblock %}

    

